# 배포 전략

배포 전략에는 종류가 여러 가지가 있으며, 어떤 전략을 선택할지는 프로젝트의 특성과 요구 사항에 따라 다를 수 있다.  

 - 롤링 배포 (Rolling Deployment)
    - 새로운 버전이 한 대씩 또는 일부씩 점진적으로 배포되는 전략입니다. 전체 시스템이 아닌 일부 머신에서만 배포를 진행하면서 서비스의 지속적인 가용성을 유지합니다.
    - 만약, 2대에 서버가 있다고 가정하면 1대를 정지시키고 새로운 버전으로 재기동한다. 실행이 완료되면, 나머지 1대도 정지시키고 새로운 버전으로 재기동한다.
 - 블루-그린 배포 (Blue-Green Deployment)
    - 새로운 버전의 소프트웨어를 현재 운영 중인 환경과 별도로 구성한 새로운 환경에 배포한 후, 트래픽을 전환하여 사용자에게 새로운 환경을 노출시킵니다. 이전 환경으로 롤백도 쉽게 수행할 수 있습니다.
    - 기존에 운영하던 2대에 서버가 있다고 가정한다. 기존 서버 2대를 블루 서버라고 하고, 새로운 2대에 그린 서버를 만들어 새로운 버전으로 기동한다. 그린 서버가 모두 올라가면, 트래픽을 한 번에 블루 서버에서 그린 서버로 변경한다.
    - 만약, 그린 서버로 트래픽을 바꾸고 나서 에러가 발생한다면 기존에 블루 서버로 롤백한다. (롤백이 쉬움)
    - 다만, 배포되는 시간 동안에는 서버가 2배가 되고, 이후에 정상이 되면 다시 서버 갯수가 돌아온다.
 - 카나리아 배포 (Canary Deployment)
    - 새로운 버전을 일부 사용자 또는 서버에 먼저 배포하고, 성능 및 안정성을 모니터링한 후 전체 시스템으로 확대 배포하는 전략입니다.
    - 기존 버전을 운영하던 중에 새로운 버전이 생기면 20%의 트래픽만 새로운 버전으로 운영한다. 이후 성능 및 안전성이 확보되면 서서히 새로운 버전으로 전부 바꿔준다.


