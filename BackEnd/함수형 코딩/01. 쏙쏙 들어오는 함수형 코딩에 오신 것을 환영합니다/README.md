# CHAPTER 1. 쏙쏙 들어오는 함수형 코딩에 오신 것을 환영합니다

함수형 사고가 무엇인지, 왜 함수형 사고가 더 좋은 소프트웨어를 만들려는 개발자에게 도움이 되는지 설명한다.  

<br/>

## 함수형 프로그래밍

함수형 프로그래밍이란 수학 함수를 사용하고 부수 효과를 피하는 것이 특징인 프로그래밍 패러다임으로 부수 효과 없이 순수 함수만 사용하는 프로그래밍 스타일이다.  
__부수 효과__ 는 함수가 리턴값 이외에 하는 모든 일을 말한다. 예를 들어 메일 보내기나 전역 상태 수정하기 같은 일을 부수 효과로 볼 수 있다. 때문에, 부수 효과는 함수를 부를 때마다 발생하기 때문에 문제가 될 수 있다. 즉, 어떤 경우에 리턴값이 필요해서 함수를 호출했지만 의도하지 않게 부수 효과가 발생할 수 있다.  
__순수 함수__ 는 인자에만 의존하고 부수 효과가 없는 함수로 같은 인자를 넣으면 항상 같은 결과를 돌려주는 함수이다.  

<br/>

## 액션과 계산, 데이터 구분하기

액션은 호출하는 시점과 횟수에 의존한다.  
반면에, 계산과 데이터는 호출하는 시점이 중요하지 않다. 언제 호출해도 항상 같은 값을 주고, 호출하는 횟수 역시 중요하지 않다. 즉, 나머지 코드나 소프트웨어 외부에 영향을 주지 않기 때문에 여러 번 호출해도 상관없다.  
계산과 데이터는 호출 가능 여부로 나눌 수 있다.

<br/>

 - 예시 함수와 데이터
```
{ "firstname": "Eric", "lastname": "Normand" }: 사람에 대한 정보
sendEmail(to, from, subject, body): 이메일을 보내는 코드
sum(numbers): 모든 숫자를 더하는 함수
saveUserDB(user): 데이터베이스에 저장하는 함수
string_length(str): 문자열의 길이를 반환하는 함수
getCurrentTime(): 현재 시간을 반환하는 함수
[1, 10, 2, 45, 3, 98]: 숫자 리스트
```

 - A. __호출할 때 조심해야 하는 코드를 구분한다.__
    - 액션은 호출하는 시점과 횟수에 의존한다.
```JS
// 액션
sendEmail(to, from, subject, body)
saveUserDB(user)
getCurrentTime()

---

// 계산과 데이터
{ "firstname": "Eric", "lastname": "Normand" }
sum(numbers)
string_length(str)
[1, 10, 2, 45, 3, 98]
```

 - B. __실행하는 코드와 그렇지 않은 코드를 구분한다.__
    - 계산과 데이터는 둘 다 부르는 시점이나 횟수가 중요하지 않다.
    - 계산과 데이터의 차이는 실행 여부에 있는데, 계산은 실행 가능하고, 데이터는 그렇지 않다.
```JS
// 액션: 부르는 시점에 의존
sendEmail(to, from, subject, body)
saveUserDB(user)
getCurrentTime()

---

// 계산: 입력값을 계산해 출력
sum(numbers)
string_length(str)

---

// 데이터: 이벤트에 대한 사실을 기록
{ "firstname": "Eric", "lastname": "Normand" }
[1, 10, 2, 45, 3, 98]
```

<br/>

### 액션과 계산, 데이터 구분 시나리오

함수형 프로그래밍의 핵심 개념은 액션과 계산, 데이터를 구분하는 것이다.  
프로젝트 관리를 위해 클라우드 서비스를 만들 때, 여러 클라이언트가 작업 완료 표시를 하면 서버에서 이메일을 통해 알려주는 서비스 시나리오에서 액션과 계산, 데이터를 구분해보자  
 - 1단계: 사용자가 작업 완료 표시를 함
    - UI 이벤트로 실행 횟수에 의존하기 때문에 액션이다.
 - 2단계: 클라이언트가 서버로 메시지를 보냄
    - 메시지를 보내는 것은 액션이다. 서버는 결정에 따라 이메일을 보낸다.
    - 메시지 자체는 서버에서 해석해야 하는 값이기 떄문에 데이터이다.
 - 3단계: 서버가 메시지를 받음
    - 메시지를 받는 것은 횟수에 의존하므로 액션이다.
 - 4단계: 서버가 데이터베이스를 변경
    - 내부 상태를 바꾸는 것은 액션이다.
 - 5단계: 서버가 누구에게 알림을 보낼지 결정
    - 결정하는 것은 계산이다.
    - 입력값이 같다면 서버는 항상 같은 결정을 내린다.
 - 6단계: 서버가 이메일로 알림을 보냄
    - 이메일 보내기는 액션이다.
    - 같은 메일을 한 번 보내는 것과 두 번 보내는 것은 다르다.

<br/>

### 액션, 계산, 데이터 구분 정리

 - 액션: 실행 시점이나 횟수에 의존한다.
    - 시간이 지남에 따라 안전하게 상태를 바꿀 수 있는 방법
    - 순서를 보장하는 방법
    - 액션이 정확히 한 번만 실행되게 보장하는 방법
 - 계산: 입력값으로 출력값을 만드는 것이다. 같은 입력값을 가지고 계산하면 항상 같은 결과값이 나온다. 언제, 어디서 계산해도 결과는 같고 외부에 영향을 주지 않는다.
    - 정확성을 위한 정적 분석
    - 소프트웨어에서 슬 수 있는 수학적 지식
    - 테스트 전략
 - 데이터: 이벤트에 대해 기록한 사실이다. 알아보기 쉬운 속성으로 되어 있고 실행하지 않아도 데이터 자체로 의미가 있다.
    - 효율적으로 접근하기 위해 데이터를 구성하는 방법
    - 데이터를 보관하기 위한 기술
    - 데이터를 이용해 중요한 것을 발견하는 원칙
