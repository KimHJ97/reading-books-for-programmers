# 01. 리액트란?

## 1.1 웹의 역사

리액트는 웹 프론트엔드 라이브러리로, 웹에서 동작하는 프로그램 언어인 자바스크립트를 기반으로 동작한다.  
때문에, 리액트를 이해하기 위해서는 기본적으로 자바스크립트에 대한 이해가 필요하다.  

<br/>

 - 웹 1.0 - 웹 페이지 시대
```
1990년, 팀 버너스리는 CERN 연구소에서 수 많은 논문과 메모, 실험 결과들을 쉽게 찾아볼 수 있게 하기 위해 HTML을 개발하고,
이를 인터넷을 통해 누구나 쉽게 어디서나 열람할 수 있도록 HTTP를 개발하게 된다.

1994년, 넷스케이프 커뮤니케이션즈는 웹 브라우저인 넷스케이프 내비게이터를 출시하게 된다.
이 브라우저는 회사 내부에서 모질라 라는 코드명으로 시작됐으며,
브라우저 출시 이후 3개월 사이에 200만이 넘는 다운로드를 기록하며 대중적인 웹 브라우저 시대를 열게 된다.

1995년, 당시 HTML로 제작된 정적 페이지를 표시하던 브라우저에 동적인 기능에 대한 요구 사항들이 생겨났으며,
이를 위해 지금은 서비스가 중단된 어도비 플래시와 같은 도구들이 제작되기 시작했다.

1995년, 브렌든 아이크는 요구 사항을 반영하기 위해 모카라는 프로그래밍 언어를 만들었다.
이후 라이브스크립트로 이름이 변경됐다가 최종적으로 자바스크립트로 명명되면서 현재 사용하는 자바스크립트가 탄생하였다.

자바스크립트는 릿그프언어에서 영감을 받아 변수 스코프와 클로저 등의 규칙을 구현했으며,
스몰토크에서 파생된 언어인 셀프에서 영감을 받아 프로토타입 상속을 만들게 되었다.

자바스크립트는 자바의 문법들을 일부 차용함으로써 자바 개발자들이 쉽게 배울 수 있도록 했다.
많은 회사들이 자바스크립트를 사용하여 동적인 웹 페이지를 제작하기 위해 배우고 사용했다.
당시 경쟁 업체였던 마이크로소프트에서는 동적 웹 브라우저를 만들기 위해 자바스크립트와 호환 가능한 J스크립트 언어를 개발했다.
J스크립트는 인터넷 익스플로러 3.0에 처음 도입되면서 자바스크립트와 경쟁 구도를 가지게 된다.

초기 J스크립트를 사용하는 인터넷 익스플로러와 자바스크립트를 사용하는 넷스케이프 내비게이터가 브라우저 시장을 서로 공유하기 시작했다.
이로인해, 특정 브라우저에서 동작하거나 동작하지 않는 크로스 브라우징 문제가 발생하기 시작했다.
1996년, 넷스케이프 커뮤니케이션즈는 이 문제를 빠르게 인식하고,
크로스 브라우징 문제를 일으키는 자바스크립트의 파편화를 방지하기 위한 표준화된 자바스크립트의 필요성을 느꼈다.

ECMA 인터내셔널은 1997년 ECMA-262라 불리는 표준화된 자바스크립트 초판 명세서를 완성한다.
하지만 자바스크립트의 상표권 문제로 현재 알고 있는 ECMAScript로 명명하게 된다.

당시 비영리 표준화 기구의 표준화된 명세서는 큰 힘이 없었으며,
크로스 브라우징 문제는 여전히 해결되지 않고, 동적인 동작으로 인한 브라우저의 돔 조작이 너무나 복잡하였다.
이런 불편함을 해결하기 위해 2006년, jQuery가 등작하게 된다.
jQuery는 당시 가지고 있던 크로스 브라우징 문제와 직관적인 API를 제공함으로써 선풍적인 인기를 끌게 된다.
```

<br/>

 - 웹 2.0 - 웹 애플리케이션 시대
```
1999년, 인터넷 익스플로러 5에서 XMLHttpRequest API를 소개하게 된다.
이는 자바스크립트에서 HTTP를 통해 데이터를 요청하고 받을 수 있는 API로,
새로운 정보를 표시하기 위해 서버에 웹 페이지를 매번 요청하던 방식에 큰 변화를 가져오게 된다.

2001년, 더글라스 크락포드가 자바스크립트와 서버 간 데이터 통신에 많이 사용되던 
XML을 대체하는 JSON 데이터 포맷을 만들어 소개한다.

2004~5년, 구글은 Gmail과 구글 지도에 Ajax를 사용하면서 Ajax를 사용하는 웹 서비스들이 등장하기 시작했다.

2007년, 아이폰이 생겨나고 2008년에 안드로이드가 등장하면서 애플리케이션이라는 개념이 대중적으로 사용하게 된다.

2010년, 구글은 웹 애플리케이션 트렌드에 대응하고자 AngularJS라는 웹 애플리케이션 프레임워크를 출시한다.
AngularJS는 웹 서비스에 싱글 페이지 애플리케이션이라는 새로운 시대를 열게 한다.
MVW, 양방향 데이터 바인딩 등 새로운 개념들을 많이 도입했다.
하지만, 당시 AngularJS는 jQuery를 기반으로 하고 있었고 많은 개념과 변화로 어려운 러닝 커브를 안겨 주게 되었다.

2011년, 페이스북의 개발자 조던 워크가 리액트를 개발하게 된다.
이는, PHP용 HTML 컴포넌트 프레임워크인 XHP에 영감을 받아 개발되었고,
2011년 페이스북 뉴스피드에 처음 적용되고 2012년에 인스타그램닷컴에 적용되었다.

2013년, 페이스북이 JSConf US에서 리액트를 오픈 소스로 발표하면서 리액트의 역사가 시작된다.
리액트는 싱글 페이지 애플리케이션의 UI 자바스크립트 라이브러리로 출시된다.
리액트는 자바스크립트에 HTML을 포함하는 JSX라는 간단한 문법과
양방향 데이터 바인딩이 가지는 문제점을 보완하고자 단방향 데이터 바인딩을 채택했다.
또한, 웹 브라우저의 리플로와 리페인트를 최적화시키는 가상 돔 개념을 도입하여 극적인 성능 개션으로 큰 인기를 끌게 된다.

리액트는 프레임워크가 아닌 라이브러리로 부족한 부분들이 존재한다.
이러한 부분들을 채우기 위해서 다른 라이브러리들과 함께 사용해야 한다.
예를 들어 리액트는 페이지 전환에 관한 기능이 존재하지 않는다.
때문에, react-router 등과 같은 라이브러리를 함께 사용해야 한다.
```

<br/>

## 1.2 리액트의 특징

### JSX

리액트는 JSX라는 독특한 문법을 가지고 있다.  
JSX는 자바스크립트와 HTML을 동시에 사용하며, 자바스크립트 함수가 HTML을 반환하거나 HTML에 자바스크립트 변수들을 바로 사용할 수 있는 일종의 템플릿 언어이다.  

```JS
const App = () => {
    const greeting = 'Hello World!';
    return <div>{greeting}</div>
}
```

<br/>

### 단방향 데이터 바인딩

양방향 데이터 바인딩은 사용자 UI의 데이터 변경을 감시하는 왓처와 자바스크립트 안에서 데이터 변경을 감시하는 왓처를 통해 UI와 프로그램 안에 데이터를 자동으로 동기화해 주는 기능이다.  
이를 통해 자바스크립트 데이터 변경과 사용자 UI 데이터 변경 및 동기화를 신경 쓰지 않고 프로그램을 작성할 수 있다.  
양방향 데이터 바인딩은 자동으로 데이터를 동기화해주는 장점이 있지만, 데이터 하나에 동기화를 위한 왓처가 두 개 사용되기 때문에 간단한 기능임에도 오버 스펙인 경우가 발생할 수 있고, 많은 왓처들에 의해 성능 저하가 발생할 수 있다.  

<br/>

단방향 데이터 바인딩은 단 하나의 왓처가 자바스크립트의 데이터 갱신을 감지하여 사용자의 UI를 갱신한다.  
단방향 데이터 바인딩은 하나의 왓처를 사용하기 때문에 양방향 데이터 바인딩에서 발생하는 문제들을 해결할 수 있고, 더 명확하게 데이터를 추적할 수 있다.  

<br/>

### 가상 돔

리액트는 가상 돔이라는 개념으로 싱글 페이지 애플리케이션의 퍼포먼스 향상에 새로운 접근 방식을 제안했다.  
가상 돔은 화면에 표시되는 돔 트리와 동일한 돔 트리를 메모리상에 만들고 돔 트리의 변경이 발생하면 메모리상에 생성한 가상 돔 트리에서 모든 연산을 한 후 실제 돔 트리를 갱신하는 방식으로 리플로와 리페인트의 연산을 최소화했다.  

```
# 상황
사용자가 로그인을 하게 되면, 로그인 사용자의 프로필 이미지와 이름을 화면에 표시하고
기존에 표시된 내용을 지우고 해당 사용자에게 맞는 콘텐츠를 표시하고
접속한 친구 리스트를 표시하는 기능을 수행한다.

# 기존 시스템
사용자 프로필 이미지와 이름을 화면에 표시하기 위해 한 번
기존에 표시된 내용을 지울 때 한 번
사용자 맞춤 콘텐츠를 표시하기 위해 한 번
접속한 친구 리스트를 표시하기 위해 한 번
총 4번의 리플로와 리페인트가 발생하게 된다.

# 가상 돔(리액트)
프로필 이미지와 이름 표시, 추천 콘텐츠 표시, 접속한 친구 리스트 표시
모두 가상 돔에서 계산한 후 계산이 완료된 돔트리를 실제 브라우저에 전달
즉, 브라우저에서는 단 한 번의 리플로와 리페인트로 화면을 갱신하게 된다.
```

<br/>

### 선언형 프로그래밍

프로그래밍은 크게 명령형 프로그래밍과 선언형 프로그래밍으로 구별할 수 있다.  
명령형 프로그래밍은 "어떻게"에 집중하여 프로그래밍 하는 방법이고, 선언형 프로그래밍은 "무엇"에 집중하여 프로그래밍 하는 방법이다.  

```JS
// 명령형 프로그래밍: 과정을 중심으로 프로그래밍
// 배열의 값을 두 배로 늘리기 위해 for문을 사용하고,
// i 변수와 배열의 크기를 사용하여 배열값을 하나씩 가져와 두 배로 만든 후 results 라는 새로운 배열에 추가한다.
const double = (arr) => {
    let results = [];
    for(let i = 0; i < arr.length; i++) {
        results.push(arr[i] * 2);
    }
    return results;
}

// 선언형 프로그래밍
// map 함수를 사용하여 주어진 배열값을 두 배로 만들어 반환한다.
// map이 어떻게 동작하는지는 크게 신경 쓰지 않고 결과인 배열값을 두 배로 만드는 데 집중하여 프로그래밍한다.
const double = (arr) => {
    return arr.map((elem) => elem * 2);
}
```
 - JSX 선언형 프로그래밍 활용
```HTML
<!-- 명령형 프로그래밍 -->
<ul id="list"></ul>
<script>
    var arr = [1, 2, 3, 4, 5];
    var elem = documenet.querySelector("#list");

    for(var i = 0; i < arr.length; i++) {
        var child = document.createElement("li");
        child.innerHTML = arr[i];
        elem.appendChild(child);
    }
</script>

<!-- 선언형 프로그래밍 -->
<script>
    const arr = [1, 2, 3, 4, 5];
    return (
        <ul>
            {arr.map((elem) => (
                <li>{elem}</li>
            ))}
        </ul>
    );
</script>
```

<br/>

### 컴포넌트 기반

리액트로 웹 애플리케이션을 개발할 떄에는 '컴포넌트'라고 불리는 자곡 고립된 코드들을 이용하여 구현할 수 있다.  
리액트는 필요한 컴포넌트들을 만들고, 레고처럼 조합하여 페이지를 제작하는 컴포넌트 기반 프로그래밍을 하게 된다.

```JS
const Title = () => {
    return <h1>Hello World</h1>;
};

const Button = () => {
    return <button>This is a Button</button>;
};

const App = () => {
    return (
        <div>
            <Title />
            <Button />
        </div>
    );
}
```